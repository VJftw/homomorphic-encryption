<div class="computation-add">
  <div class="col-md-6 col-md-offset-3">
    <div class="panel panel-default animated fadeIn">
      <div class="panel-body">
        <form
                [ngFormModel]="computationForm"
                (submit)="computationForm.valid && submit($event)"
                class="form-horizontal"
                novalidate
        >
          <div class="row animated fadeIn">
            <div class="col-md-12">
              <h4>Select a scheme</h4>
              <label *ngFor="#item of computationSchemes" class="radio-inline">
                <input
                        type="radio"
                        (click)="setEncryptionScheme(item)"
                        [checked]="item === computationModel.scheme"
                        [disabled]="formSubmitted"
                        [(ngModel)]="computationModel.scheme"
                > {{ item }}
              </label>
            </div>
          </div>
          <div class="row animated fadeIn" *ngIf="encryptionScheme != null">
            <div class="col-md-12">
              <h4>Enter a sum</h4>
              <div class="col-xs-12">
                <div class="form-group">
                  <div class="input-group col-xs-12">
                    <input
                            ngControl="a"
                            [(ngModel)]="computationModel.a"
                            type="number"
                            placeholder="3"
                            class="text-center col-xs-12 col-sm-5"
                            autofocus
                            [disabled]="formSubmitted"
                    >
                    <div class="col-xs-12 col-sm-2 text-center">
                      <select class="form-control" [disabled]="formSubmitted" [(ngModel)]="computationModel.operation">
                        <option *ngIf="encryptionScheme != null" *ngFor="#operator of encryptionScheme.getCapabilities()" [value]="operator">
                          {{operator}}
                        </option>
                      </select>
                    </div>
                    <input
                            ngControl="b"
                            [(ngModel)]="computationModel.b"
                            type="number"
                            placeholder="5"
                            class="text-center col-xs-12 col-sm-5"
                            [disabled]="formSubmitted"
                    >
                  </div>
                </div>
                <button type="submit" class="btn btn-primary" [disabled]="!computationForm.valid || formSubmitted">
                  <span>Execute</span>
                </button>
              </div>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
  <div *ngIf="encryptionScheme && computationModel" class="col-md-8 col-md-offset-2">
    <div *ngFor="#stage of computationModel.getStages()">
      <div class="panel panel-default animated fadeIn">
        <div class="panel-heading">{{ stage.getName() }}</div>
        <div class="panel-body">
          <div *ngFor="#step of stage.getSteps(); #i = index">
            <div class="animated fadeInUp" *mathjax>{{ step.action }} <span *ngIf="step.result"> = {{ step.result }}</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {{ a }}

</div>
